<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Solving a Mini Sudoku in 6502 Assembly | Markus Thill </title> <meta name="author" content="Markus Thill"> <meta name="description" content="A deep dive into solving 4x4 mini-Sudokus using a recursive backtracking algorithm written entirely in 6502 assembly, including design decisions, memory layout, and emulator-based inspection."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?v=a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?v=f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?v=62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?v=591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8D%95&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?v=d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://markusthill.github.io/blog/2026/mini-sudoku-asm/"> <script src="/assets/js/theme.js?v=48c9b5bd7f2e0605e39e579400e22553"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?v=5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Markus</span> Thill </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"> </a> </li> <li class="nav-item "> <a class="nav-link" href="/about">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/index.html">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Solving a Mini Sudoku in 6502 Assembly</h1> <p class="post-meta"> Created on January 24, 2026 </p> <p class="post-tags"> <a href="/blog/2026"> <i class="fa-solid fa-calendar fa-sm"></i> 2026 </a>   ·   <a href="/blog/tag/65c02"> <i class="fa-solid fa-hashtag fa-sm"></i> 65C02</a>   <a href="/blog/tag/assembly"> <i class="fa-solid fa-hashtag fa-sm"></i> assembly</a>   <a href="/blog/tag/sudoku"> <i class="fa-solid fa-hashtag fa-sm"></i> sudoku</a>   <a href="/blog/tag/backtracking"> <i class="fa-solid fa-hashtag fa-sm"></i> backtracking</a>   <a href="/blog/tag/retro"> <i class="fa-solid fa-hashtag fa-sm"></i> retro</a>   <a href="/blog/tag/algorithms"> <i class="fa-solid fa-hashtag fa-sm"></i> algorithms</a>   ·   <a href="/blog/category/programming"> <i class="fa-solid fa-tag fa-sm"></i> programming</a>   <a href="/blog/category/retrocomputing"> <i class="fa-solid fa-tag fa-sm"></i> retrocomputing</a>   <a href="/blog/category/algorithms"> <i class="fa-solid fa-tag fa-sm"></i> algorithms</a> </p> </header> <article class="post-content"> <div id="table-of-contents"> <ul id="toc" class="section-nav"> <li class="toc-entry toc-h2"><a href="#mini-sudoku-meets-the-6502">Mini-Sudoku meets the 6502</a></li> <li class="toc-entry toc-h2"><a href="#design-notes-before-writing-any-code">Design notes before writing any code</a></li> <li class="toc-entry toc-h2"><a href="#running-and-inspecting-the-program">Running and inspecting the program</a></li> <li class="toc-entry toc-h2"><a href="#high-level-structure-of-the-solver">High-level structure of the solver</a></li> <li class="toc-entry toc-h2"><a href="#inspecting-the-sudoku-in-memory">Inspecting the Sudoku in memory</a></li> <li class="toc-entry toc-h2"><a href="#appendix">Appendix</a></li> </ul> </div> <hr> <div id="markdown-content"> <h2 id="mini-sudoku-meets-the-6502">Mini-Sudoku meets the 6502</h2> <p>A <em>mini-Sudoku</em> is a simplified variant of the classic Sudoku puzzle. Instead of a 9×9 grid, it consists of a <strong>4×4 board</strong>, subdivided into four <strong>2×2 houses</strong>. The rules are the same in spirit but smaller in scale:</p> <ul> <li>Every <strong>row</strong>, <strong>column</strong>, and <strong>2×2 house</strong> must contain each digit from <strong>1 to 4 exactly once</strong>.</li> <li>Empty cells are typically represented by zeros.</li> </ul> <p>Because of their small size, mini-Sudokus are usually easy to solve by hand and trivial for modern computers. Precisely for that reason, they make an excellent playground for experimenting with <strong>low-level algorithms</strong>—and, in this case, for writing a complete solver in <strong>6502 assembly</strong>.</p> <p>The figure below shows an example of such a puzzle: on the left an unsolved mini-Sudoku, and on the right the correctly solved board.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2026-01-25-mini-sudoku-asm/microsudoku-480.webp 480w,/assets/img/2026-01-25-mini-sudoku-asm/microsudoku-800.webp 800w,/assets/img/2026-01-25-mini-sudoku-asm/microsudoku-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/2026-01-25-mini-sudoku-asm/microsudoku.jpg" class="img-fluid rounded z-depth-1 imgcenter" width="60%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption"> <b>Figure 1:</b> An example 4x4 mini-Sudoku: the unsolved puzzle (left) and its valid solution (right). </figcaption> </figure> <p>The goal of this post is to explain <strong>how a recursive backtracking Sudoku solver can be implemented entirely in 6502 assembly</strong>, and how the result can be inspected and verified using an emulator.</p> <h2 id="design-notes-before-writing-any-code">Design notes before writing any code</h2> <p>Before diving into assembly, I wrote down a few guiding design decisions. These notes shaped the overall structure of the program and helped keep the implementation manageable despite the limitations of the 6502.</p> <ul> <li>The Sudoku board is stored as a <strong>one-dimensional array of 16 cells</strong>, laid out in row-major order.</li> <li>A <strong>pointer</strong> is used to reference the initial input Sudoku, so that different puzzles can be solved without changing the solver logic.</li> <li>An <strong>initialization routine</strong> copies the input puzzle into a working array. The solver only ever modifies this copy, never the original puzzle.</li> <li>The core of the program is a <strong>recursive <code class="language-plaintext highlighter-rouge">solve</code> routine</strong> implementing a classic <strong>backtracking algorithm</strong>: <ul> <li>Find the next empty cell.</li> <li>Try all possible digits (1–4).</li> <li>Check whether the current board state is still legal.</li> <li>Recurse until either a solution is found or all options are exhausted.</li> </ul> </li> <li>A dedicated subroutine checks whether the <strong>current board configuration is legal</strong>, i.e. contains no duplicate digits in any row, column, or house.</li> <li>Another subroutine checks whether the <strong>board is completely filled</strong>. If the board is full <em>and</em> legal, a solution has been found.</li> <li>As soon as a valid solution is detected, the recursion unwinds immediately, leaving the solved board in memory.</li> <li>If no solution exists, the solver terminates without modifying the original puzzle.</li> </ul> <p>These constraints lead naturally to a clean separation between <strong>data</strong>, <strong>control flow</strong>, and <strong>validation logic</strong>, even at the assembly level.</p> <h2 id="running-and-inspecting-the-program">Running and inspecting the program</h2> <p>To develop and test the solver, I used a browser-based 6502 emulator created by <strong>Michal Kowalski</strong>, which has since been extended and improved by the community:</p> <p><a href="https://sbc.rictor.org/kowalski.html" rel="external nofollow noopener" target="_blank">https://sbc.rictor.org/kowalski.html</a></p> <p>Originally written many years ago, this simulator aims to faithfully emulate the MOS 6502 and related variants. Over time, its cycle counting and corner cases were refined, making it a surprisingly solid tool for experimenting with non-trivial assembly programs such as this one.</p> <p>The screenshot below shows the emulator interface used during development.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2026-01-25-mini-sudoku-asm/6502_emulator.PNG" sizes="95vw"></source> <img src="/assets/img/2026-01-25-mini-sudoku-asm/6502_emulator.PNG" class="img-fluid rounded z-depth-1 imgcenter" width="99%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption"> <b>Figure 2:</b> The Kowalski 6502 emulator used to run and debug the mini-Sudoku solver. </figcaption> </figure> <h2 id="high-level-structure-of-the-solver">High-level structure of the solver</h2> <p>At a high level, the assembly program proceeds in the following steps:</p> <ol> <li> <strong>Select an input puzzle</strong> by pointing to a specific Sudoku stored in memory.</li> <li> <strong>Initialize</strong> the working board by copying the puzzle into a dedicated array.</li> <li> <strong>Invoke the recursive solver</strong>, which: <ul> <li>Scans for empty cells,</li> <li>Tries candidate digits,</li> <li>Validates partial solutions,</li> <li>Backtracks when necessary.</li> </ul> </li> <li> <strong>Terminate</strong> once either: <ul> <li>A valid solution has been found, or</li> <li>All possibilities have been exhausted.</li> </ul> </li> </ol> <p>Rather than returning the solved board explicitly, the solver writes the result <strong>in place</strong> into the working board array. This is both efficient and idiomatic on the 6502, where copying memory is relatively expensive.</p> <h2 id="inspecting-the-sudoku-in-memory">Inspecting the Sudoku in memory</h2> <p>One of the advantages of working in an emulator is that memory can be inspected directly.</p> <p>The next screenshot shows the memory region corresponding to the <strong>unsolved mini-Sudoku</strong>, right after initialization and before the solver has run.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2026-01-25-mini-sudoku-asm/unsolved_mini_sudoku-480.webp 480w,/assets/img/2026-01-25-mini-sudoku-asm/unsolved_mini_sudoku-800.webp 800w,/assets/img/2026-01-25-mini-sudoku-asm/unsolved_mini_sudoku-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/2026-01-25-mini-sudoku-asm/unsolved_mini_sudoku.png" class="img-fluid rounded z-depth-1 imgcenter" width="70%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption"> <b>Figure 3:</b> Memory view of the working board containing the unsolved mini-Sudoku. </figcaption> </figure> <p>After the solver completes successfully, the same memory region contains the <strong>fully solved board</strong>, as shown below.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2026-01-25-mini-sudoku-asm/solved_mini_sudoku-480.webp 480w,/assets/img/2026-01-25-mini-sudoku-asm/solved_mini_sudoku-800.webp 800w,/assets/img/2026-01-25-mini-sudoku-asm/solved_mini_sudoku-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/2026-01-25-mini-sudoku-asm/solved_mini_sudoku.png" class="img-fluid rounded z-depth-1 imgcenter" width="70%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption"> <b>Figure 4:</b> The same memory region after the solver finishes: the mini-Sudoku is now fully solved. </figcaption> </figure> <p>Reading the memory sequentially from top to bottom corresponds directly to reading the Sudoku row by row.</p> <p>If you want to experiment further, you can easily adapt the program to solve a different mini-Sudoku by selecting another puzzle in the data section. The solver itself remains unchanged.</p> <figure class="highlight"><pre><code class="language-nasm" data-lang="nasm"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
</pre></td> <td class="code"><pre><span class="c1">; Field is stored in a 1-dim. array (indices)</span>
<span class="c1">;|-----------------| </span>
<span class="c1">;| 00, 01 | 02, 03 |</span>
<span class="c1">;| 04, 05 | 06, 07 |</span>
<span class="c1">;|--------+--------|</span>
<span class="c1">;| 08, 09 | 10, 11 |</span>
<span class="c1">;| 12, 13 | 14, 15 |</span>
<span class="c1">;|-----------------|</span>

<span class="c1">; --------------------------------------------------------------------</span>
<span class="c1">; Zero-page pointer + constants</span>
<span class="c1">; --------------------------------------------------------------------</span>
<span class="nf">p</span>             <span class="err">=</span> <span class="kc">$</span><span class="mi">80</span>            <span class="c1">; ZP pointer to current Sudoku (low/high at p, p+1)</span>

<span class="nf">FIELD_SIZE</span>    <span class="err">=</span> <span class="mi">16</span>
<span class="nf">CELLS_PER_ROW</span> <span class="err">=</span> <span class="mi">4</span>
<span class="nf">CELLS_PER_COL</span> <span class="err">=</span> <span class="mi">4</span>
<span class="nf">NUM_DIGITS</span>    <span class="err">=</span> <span class="mi">4</span>

<span class="nf">currentSudoku</span> <span class="err">=</span> <span class="nv">sudoku17</span>       <span class="c1">; default puzzle source (can be repointed)</span>

<span class="c1">;====================================================================</span>
<span class="c1">; Macros</span>
<span class="c1">;====================================================================</span>
<span class="c1">; Save selected registers/flags to stack (order matters!)</span>
<span class="nf">SAXY_TO_STACK</span> <span class="nv">.MACRO</span> <span class="nb">sS</span><span class="p">,</span> <span class="nv">sA</span><span class="p">,</span> <span class="nv">sX</span><span class="p">,</span> <span class="nv">sY</span>
	<span class="nf">.IF</span> <span class="nb">sS</span>
		<span class="nf">PHP</span>                 <span class="c1">; save status flags</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nv">sA</span>
		<span class="nf">PHA</span>                 <span class="c1">; save A</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nv">sX</span>
		<span class="nf">TXA</span>                 <span class="c1">; push X via A</span>
		<span class="nf">PHA</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nv">sY</span>
		<span class="nf">TYA</span>                 <span class="c1">; push Y via A</span>
		<span class="nf">PHA</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.ENDM</span>

<span class="c1">; Restore selected registers/flags from stack (reverse order!)</span>
<span class="nf">SAXY_FROM_STACK</span> <span class="nv">.MACRO</span> <span class="nb">sS</span><span class="p">,</span> <span class="nv">sA</span><span class="p">,</span> <span class="nv">sX</span><span class="p">,</span> <span class="nv">sY</span>
	<span class="nf">.IF</span> <span class="nv">sY</span>
		<span class="nf">PLA</span>
		<span class="nf">TAY</span>                 <span class="c1">; restore Y</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nv">sX</span>
		<span class="nf">PLA</span>
		<span class="nf">TAX</span>                 <span class="c1">; restore X</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nv">sA</span>
		<span class="nf">PLA</span>                 <span class="c1">; restore A</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.IF</span> <span class="nb">sS</span>
		<span class="nf">PLP</span>                 <span class="c1">; restore status flags</span>
	<span class="nf">.ENDIF</span>
	<span class="nf">.ENDM</span>

	<span class="nf">.ORG</span> <span class="kc">$</span><span class="mi">4000</span>

<span class="nl">main:</span>
	<span class="c1">; SAXY_TO_STACK 1,1,1,1</span>
	<span class="c1">; JSR IS_FULL_TEST</span>
	<span class="c1">; JSR IS_LEGAL_COL_TEST</span>
	<span class="c1">; JSR IS_LEGAL_HOUSE_TEST</span>
	<span class="c1">; JSR IS_LEGAL_BOARD_TEST</span>
	<span class="c1">; JSR init</span>

	<span class="c1">; Initialize ZP pointer p -&gt; currentSudoku (little endian)</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="o">&lt;</span><span class="nv">currentSudoku</span>          <span class="c1">; low byte</span>
	<span class="nf">STA</span> <span class="nv">p</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="o">&gt;</span><span class="nv">currentSudoku</span>          <span class="c1">; high byte</span>
	<span class="nf">STA</span> <span class="nv">p</span><span class="o">+</span><span class="mi">1</span>

	<span class="nf">JSR</span> <span class="nv">init</span>
	<span class="nf">JSR</span> <span class="nv">solve</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>


<span class="c1">;====================================================================</span>
<span class="c1">; 1. Copy given Sudoku referenced by pointer p to array field</span>
<span class="c1">;====================================================================</span>
<span class="nl">init:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="c1">; reset field (currently commented out)</span>
	<span class="c1">; LDY #FIELD_SIZE-1</span>
	<span class="c1">; LDA #0</span>
<span class="c1">; init_resetField:</span>
	<span class="c1">; STA field, Y</span>
	<span class="c1">; DEY</span>
	<span class="c1">; BPL init_resetField</span>

	<span class="c1">; Copy content of referenced input-field to field</span>
	<span class="nf">LDY</span> <span class="err">#</span><span class="nv">FIELD_SIZE</span><span class="o">-</span><span class="mi">1</span>
<span class="nl">init_cpy_field:</span>
	<span class="nf">LDA</span> <span class="p">(</span><span class="nv">p</span><span class="p">),</span> <span class="nv">Y</span>                    <span class="c1">; read from *p + Y</span>
	<span class="nf">STA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>                  <span class="c1">; write into local board</span>
	<span class="nf">DEY</span>
	<span class="nf">BPL</span> <span class="nv">init_cpy_field</span>

	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Solve the Sudoku given in the array "field"</span>
<span class="c1">; Parameters:</span>
<span class="c1">;	None</span>
<span class="c1">; Return:</span>
<span class="c1">;	AKKU: True(1) if Sudoku could be solved, otherwise False (0)</span>
<span class="c1">;		Alternative is the Zero-Flag</span>
<span class="c1">; Temporary variables used:</span>
<span class="c1">; 	none</span>
<span class="c1">;====================================================================</span>
<span class="nl">solve:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>          <span class="c1">; only save X/Y</span>

	<span class="c1">; Two bytes of local state are kept on the stack:</span>
	<span class="c1">;   $0102,X : current index (cell)</span>
	<span class="c1">;   $0101,X : current digit guess</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">PHA</span>                            <span class="c1">; start at index 0</span>
	<span class="nf">PHA</span>                            <span class="c1">; digit (initially 0)</span>

	<span class="c1">; If board is full =&gt; solved (note: is_full returns 1 by INC on stack)</span>
	<span class="nf">JSR</span> <span class="nv">is_full</span>
	<span class="nf">BEQ</span> <span class="nv">solve_nextCell</span>

	<span class="c1">; We have a solution</span>
	<span class="nf">SEC</span>
	<span class="nf">BCS</span> <span class="nv">solveEnd</span>                   <span class="c1">; unconditional (SEC sets C)</span>

<span class="nl">solve_nextCell:</span>                  <span class="c1">; loop over cells</span>
	<span class="nf">TSX</span>
	<span class="nf">LDA</span> <span class="kc">$</span><span class="mi">0102</span><span class="p">,</span> <span class="nv">X</span>                   <span class="c1">; load index (cell pointer) from stack frame</span>
	<span class="nf">TAY</span>

	<span class="c1">; Skip filled cells</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BNE</span> <span class="nv">solve_nextCellEnd</span>          <span class="c1">; continue with next cell if not empty</span>

	<span class="c1">; Start trying digits at 1</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">1</span>
	<span class="nf">STA</span> <span class="kc">$</span><span class="mi">0101</span><span class="p">,</span> <span class="nv">X</span>                   <span class="c1">; store current digit in stack frame</span>

<span class="nl">solve_nextDigit:</span>
	<span class="nf">STA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>                   <span class="c1">; set current cell to current digit</span>

	<span class="c1">; Check legality of this placement (row/col/house + empties allowed)</span>
	<span class="nf">JSR</span> <span class="nv">isLegalBoard</span>
	<span class="nf">BEQ</span> <span class="nv">solve_nextDigitEnd</span>         <span class="c1">; not legal =&gt; try next digit</span>

	<span class="c1">; Recurse</span>
	<span class="nf">JSR</span> <span class="nv">solve</span>
	<span class="nf">SEC</span>                            <span class="c1">; use Carry as "solution found" indicator</span>
	<span class="nf">BNE</span> <span class="nv">solveEnd</span>                   <span class="c1">; if solution found (A!=0), stop unwinding</span>

<span class="nl">solve_nextDigitEnd:</span>
	<span class="c1">; Next digit</span>
	<span class="nf">INC</span> <span class="kc">$</span><span class="mi">0101</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">LDA</span> <span class="kc">$</span><span class="mi">0101</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">CMP</span> <span class="err">#</span><span class="nv">NUM_DIGITS</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">BMI</span> <span class="nv">solve_nextDigit</span>

	<span class="c1">; No digit worked -&gt; reset cell</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">STA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>

	<span class="c1">; All digits were tried</span>
	<span class="nf">CLC</span>                            <span class="c1">; indicate failure via Carry</span>
	<span class="nf">BEQ</span> <span class="nv">solveEnd</span>                   <span class="c1">; unconditional (Z is set from previous STA? kept as-is)</span>

<span class="nl">solve_nextCellEnd:</span>
	<span class="nf">INC</span> <span class="kc">$</span><span class="mi">0102</span><span class="p">,</span> <span class="nv">X</span>                   <span class="c1">; next cell index</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="nv">FIELD_SIZE</span>
	<span class="nf">CMP</span> <span class="kc">$</span><span class="mi">0102</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">BPL</span> <span class="nv">solve_nextCell</span>

	<span class="nf">CLC</span>                            <span class="c1">; C-Flag needed to decide on return value</span>

<span class="nl">solveEnd:</span>
	<span class="nf">PLA</span>                            <span class="c1">; pop index-counter</span>
	<span class="nf">PLA</span>                            <span class="c1">; pop digit-counter</span>

	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>                          <span class="c1">; default return: no solution</span>
	<span class="nf">BCC</span> <span class="nv">solveEndNoSolution</span>          <span class="c1">; if Carry clear =&gt; failure</span>

	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">1</span>                          <span class="c1">; success</span>
<span class="nl">solveEndNoSolution:</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Check if the whole board is legal (all houses/cols/rows).</span>
<span class="c1">; Empty cells are considered legal.</span>
<span class="c1">; Parameters:</span>
<span class="c1">;	None</span>
<span class="c1">; Return:</span>
<span class="c1">;	AKKU: True(1) or False (0), Alternative is the Zero-Flag</span>
<span class="c1">; Temporary variables used:</span>
<span class="c1">; 	return+1: Return-value (safe temp; not used by callees)</span>
<span class="c1">;====================================================================</span>
<span class="nl">isLegalBoard:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">STA</span> <span class="nv">return</span><span class="o">+</span><span class="mi">1</span>                    <span class="c1">; return+1 is not used by called subroutines</span>

	<span class="nf">LDX</span> <span class="err">#</span><span class="mi">3</span>                          <span class="c1">; iterate over 0..3</span>
<span class="nl">isLegalBoardLoop:</span>
	<span class="nf">TXA</span>
	<span class="nf">JSR</span> <span class="nv">isLegalHouse</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalBoardEnd</span>

	<span class="nf">TXA</span>
	<span class="nf">JSR</span> <span class="nv">isLegalCol</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalBoardEnd</span>

	<span class="nf">TXA</span>
	<span class="nf">JSR</span> <span class="nv">isLegalRow</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalBoardEnd</span>

	<span class="nf">DEX</span>
	<span class="nf">BPL</span> <span class="nv">isLegalBoardLoop</span>

	<span class="nf">INC</span> <span class="nv">return</span><span class="o">+</span><span class="mi">1</span>                    <span class="c1">; all checks passed</span>

<span class="nl">isLegalBoardEnd:</span>
	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">return</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Check if the given house (0-3) is legal.</span>
<span class="c1">; Empty cells are considered as legal.</span>
<span class="c1">; Parameters:</span>
<span class="c1">;	AKKU: House to be checked</span>
<span class="c1">; Return:</span>
<span class="c1">;	AKKU: True(1) or False (0), Alternative is the Zero-Flag</span>
<span class="c1">; Temporary variables used:</span>
<span class="c1">; 	return:  Return-value</span>
<span class="c1">;	counter: Offset/temporary</span>
<span class="c1">;====================================================================</span>
	<span class="c1">;|-----------------|</span>
	<span class="c1">;| 00, 01 | 02, 03 |</span>
	<span class="c1">;| 04, 05 | 06, 07 |</span>
	<span class="c1">;|--------+--------|</span>
	<span class="c1">;| 08, 09 | 10, 11 |</span>
	<span class="c1">;| 12, 13 | 14, 15 |</span>
	<span class="c1">;|-----------------|</span>
<span class="nl">isLegalHouse:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">STA</span> <span class="nv">counter</span>                      <span class="c1">; offset for even houses</span>
	<span class="nf">STA</span> <span class="nv">return</span>

	<span class="c1">; Get house index from caller stack frame</span>
	<span class="nf">TSX</span>
	<span class="nf">LDA</span> <span class="kc">$</span><span class="mi">0103</span><span class="p">,</span> <span class="nv">X</span>

	<span class="c1">; Compute starting index of the 2x2 house:</span>
	<span class="c1">; - LSR splits even/odd house in row (C=1 for odd)</span>
	<span class="c1">; - ASL*3 scales to row-block offset</span>
	<span class="nf">LSR</span>                               <span class="c1">; C-Flag set for odd house</span>
	<span class="nf">BCC</span> <span class="nv">isLegalHouse_EvenHouse</span>
	<span class="nf">INC</span> <span class="nv">counter</span>
	<span class="nf">INC</span> <span class="nv">counter</span>                       <span class="c1">; Add offset of 2 for odd house</span>
<span class="nl">isLegalHouse_EvenHouse:</span>
	<span class="nf">ASL</span>
	<span class="nf">ASL</span>
	<span class="nf">ASL</span>
	<span class="nf">ADC</span> <span class="nv">counter</span>

	<span class="c1">; Starting index now in A</span>
	<span class="nf">TAX</span>                               <span class="c1">; X = start of house</span>
	<span class="nf">TAY</span>

	<span class="c1">; Precompute the other 3 indices of this house into counter..counter+2</span>
	<span class="nf">INY</span>
	<span class="nf">STY</span> <span class="nv">counter</span>                       <span class="c1">; cell #2</span>
	<span class="nf">INY</span>
	<span class="nf">INY</span>
	<span class="nf">INY</span>
	<span class="nf">STY</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>                     <span class="c1">; cell #3</span>
	<span class="nf">INY</span>
	<span class="nf">STY</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">2</span>                     <span class="c1">; cell #4</span>

	<span class="c1">; Compare cell #1 against the other three (skip if empty)</span>
	<span class="nf">LDY</span> <span class="nv">counter</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouse_EvenHouse_Cell2</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #1 == #2</span>
	<span class="nf">LDY</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #1 == #3</span>
	<span class="nf">INY</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #1 == #4</span>

<span class="nl">isLegalHouse_EvenHouse_Cell2:</span>
	<span class="c1">; Compare cell #2 against #3/#4</span>
	<span class="nf">INX</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouse_EvenHouse_Cell3</span>
	<span class="nf">LDY</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">2</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #2 == #4</span>
	<span class="nf">DEY</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #2 == #3</span>

<span class="nl">isLegalHouse_EvenHouse_Cell3:</span>
	<span class="c1">; Compare cell #3 against #4</span>
	<span class="nf">LDY</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseTrue</span>
	<span class="nf">INY</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalHouseEnd</span>               <span class="c1">; #3 == #4</span>

<span class="nl">isLegalHouseTrue:</span>
	<span class="nf">INC</span> <span class="nv">return</span>

<span class="nl">isLegalHouseEnd:</span>
	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">return</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Check if the given column (0-3) is legal (no duplicates).</span>
<span class="c1">; Empty cells are considered as legal.</span>
<span class="c1">; Parameters:</span>
<span class="c1">;	AKKU: Column to be checked</span>
<span class="c1">; Return:</span>
<span class="c1">;	AKKU: True(1) or False (0), Alternative is the Zero-Flag</span>
<span class="c1">; Temporary variables used:</span>
<span class="c1">; 	return:    Return-value</span>
<span class="c1">;	counter:   loop-counter outer-loop / starting index</span>
<span class="c1">;	counter+1: loop-counter inner-loop</span>
<span class="c1">;	index:     second-last index of current column</span>
<span class="c1">;	index+1:   last index of current column</span>
<span class="c1">;====================================================================</span>
	<span class="c1">;|-----------------|</span>
	<span class="c1">;| 00, 01 | 02, 03 |</span>
	<span class="c1">;| 04, 05 | 06, 07 |</span>
	<span class="c1">;|--------+--------|</span>
	<span class="c1">;| 08, 09 | 10, 11 |</span>
	<span class="c1">;| 12, 13 | 14, 15 |</span>
	<span class="c1">;|-----------------|</span>
<span class="nl">isLegalCol:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="c1">; Set return value, initially zero</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">STA</span> <span class="nv">return</span>

	<span class="c1">; Get starting index (column number) from caller stack frame</span>
	<span class="nf">TSX</span>
	<span class="nf">LDA</span> <span class="kc">$</span><span class="mi">0103</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">STA</span> <span class="nv">counter</span>

	<span class="c1">; calc second-last index of current column</span>
	<span class="nf">CLC</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span><span class="o">*</span><span class="mi">2</span>
	<span class="nf">STA</span> <span class="nv">index</span>                         <span class="c1">; second-last index of current column</span>

	<span class="c1">; calc last index of current column</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span>
	<span class="nf">STA</span> <span class="nv">index</span><span class="o">+</span><span class="mi">1</span>                       <span class="c1">; last index of current column</span>

	<span class="c1">; &lt;outerLoop&gt;</span>
<span class="nl">isLegalCol_checkLoop:</span>
	<span class="nf">CLC</span>
	<span class="nf">LDA</span> <span class="nv">counter</span>
	<span class="nf">TAY</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span>
	<span class="nf">STA</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>

	<span class="c1">; &lt;innerLoop&gt; compare field[Y] against all later cells in this column</span>
<span class="nl">isLegalCol_countDigits:</span>
	<span class="nf">LDX</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalCol_checkLoopEnd</span>       <span class="c1">; empty =&gt; skip comparisons</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalColEnd</span>                 <span class="c1">; duplicate found =&gt; illegal</span>

	<span class="nf">CLC</span>
	<span class="nf">LDA</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span>
	<span class="nf">STA</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>

	<span class="nf">LDA</span> <span class="nv">index</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">CMP</span> <span class="nv">counter</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">BCS</span> <span class="nv">isLegalCol_countDigits</span>
	<span class="c1">; &lt;/innerLoop&gt;</span>

<span class="nl">isLegalCol_checkLoopEnd:</span>
	<span class="nf">CLC</span>
	<span class="nf">LDA</span> <span class="nv">counter</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span>
	<span class="nf">STA</span> <span class="nv">counter</span>

	<span class="nf">LDA</span> <span class="nv">index</span>
	<span class="nf">CMP</span> <span class="nv">counter</span>
	<span class="nf">BCS</span> <span class="nv">isLegalCol_checkLoop</span>
	<span class="c1">; &lt;/outerLoop&gt;</span>

	<span class="nf">INC</span> <span class="nv">return</span>                         <span class="c1">; no duplicates</span>
<span class="nl">isLegalColEnd:</span>
	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">return</span>
	<span class="nf">RTS</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Check if the given row (0-3) is legal (no duplicates).</span>
<span class="c1">; Empty cells are considered as legal.</span>
<span class="c1">; Parameters:</span>
<span class="c1">;	AKKU: Row to be checked</span>
<span class="c1">; Return:</span>
<span class="c1">;	AKKU: True(1) or False (0), Alternative is the Zero-Flag</span>
<span class="c1">; Temporary variables used:</span>
<span class="c1">; 	index:    starting index of next row</span>
<span class="c1">;	index+1:  last index of current row</span>
<span class="c1">;	return:   Return-value</span>
<span class="c1">;====================================================================</span>
	<span class="c1">;|-----------------|</span>
	<span class="c1">;| 00, 01 | 02, 03 |</span>
	<span class="c1">;| 04, 05 | 06, 07 |</span>
	<span class="c1">;|--------+--------|</span>
	<span class="c1">;| 08, 09 | 10, 11 |</span>
	<span class="c1">;| 12, 13 | 14, 15 |</span>
	<span class="c1">;|-----------------|</span>
<span class="nl">isLegalRow:</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="c1">; Set return value, initially zero</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>
	<span class="nf">STA</span> <span class="nv">return</span>

	<span class="c1">; Multiply row by 4 to get starting index</span>
	<span class="nf">TSX</span>
	<span class="nf">LDA</span> <span class="kc">$</span><span class="mi">0103</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">ASL</span>
	<span class="nf">ASL</span>
	<span class="nf">TAX</span>                               <span class="c1">; X = row start (outer loop)</span>

	<span class="c1">; Add 4 to get first index of the next row</span>
	<span class="nf">CLC</span>
	<span class="nf">ADC</span> <span class="err">#</span><span class="nv">CELLS_PER_ROW</span>
	<span class="nf">STA</span> <span class="nv">index</span>

	<span class="c1">; Add 3 to get last index of current row</span>
	<span class="nf">STA</span> <span class="nv">index</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">DEC</span> <span class="nv">index</span><span class="o">+</span><span class="mi">1</span>

	<span class="c1">; &lt;Outer loop&gt; iterate over cells in this row</span>
<span class="nl">isLegalRow_checkLoop:</span>
	<span class="nf">TXA</span>
	<span class="nf">TAY</span>                               <span class="c1">; Y = current cell (inner loop anchor)</span>
	<span class="nf">INY</span>                               <span class="c1">; start comparisons at next cell</span>
	<span class="nf">LDA</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">X</span>                      <span class="c1">; digit to check</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalRow_CheckLoopEnd</span>       <span class="c1">; empty =&gt; skip comparisons</span>

	<span class="c1">; &lt;Inner loop&gt; compare against remaining cells in row</span>
<span class="nl">isLegalRow_countDigits:</span>
	<span class="nf">CMP</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">Y</span>
	<span class="nf">BEQ</span> <span class="nv">isLegalRow_End</span>                <span class="c1">; duplicate found</span>
	<span class="nf">INY</span>
	<span class="nf">CPY</span> <span class="nv">index</span>
	<span class="nf">BNE</span> <span class="nv">isLegalRow_countDigits</span>
	<span class="c1">; &lt;/Inner loop&gt;</span>

<span class="nl">isLegalRow_CheckLoopEnd:</span>
	<span class="nf">INX</span>
	<span class="nf">CPX</span> <span class="nv">index</span><span class="o">+</span><span class="mi">1</span>
	<span class="nf">BNE</span> <span class="nv">isLegalRow_checkLoop</span>
	<span class="c1">; &lt;/Outer loop&gt;</span>

	<span class="nf">INC</span> <span class="nv">return</span>                         <span class="c1">; no duplicates</span>

<span class="nl">isLegalRow_End:</span>
	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">LDA</span> <span class="nv">return</span>
	<span class="nf">RTS</span>


<span class="c1">;====================================================================</span>
<span class="c1">; Tests if the sudoku-field is completely filled.</span>
<span class="c1">; Does NOT check consistency: only whether every cell != 0.</span>
<span class="c1">; Return is via stack-mutation trick (INC $0103,X) while A stays 0/1.</span>
<span class="c1">; Zero flag can be used by caller.</span>
<span class="c1">;====================================================================</span>
<span class="nl">is_full:</span>
	<span class="nf">LDA</span> <span class="err">#</span><span class="mi">0</span>                             <span class="c1">; assume not full (return value 0)</span>
	<span class="nf">SAXY_TO_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

	<span class="nf">LDX</span> <span class="err">#</span><span class="nv">FIELD_SIZE</span><span class="o">-</span><span class="mi">1</span>
<span class="nl">is_full_loop:</span>
	<span class="c1">; Check if cell is empty and leave loop if so</span>
	<span class="nf">LDY</span> <span class="nv">field</span><span class="p">,</span> <span class="nv">X</span>
	<span class="nf">BEQ</span> <span class="nv">is_full_end</span>

	<span class="c1">; Cell not empty -&gt; next</span>
	<span class="nf">DEX</span>
	<span class="nf">BPL</span> <span class="nv">is_full_loop</span>                   <span class="c1">; continue while X &gt;= 0</span>

	<span class="c1">; All cells filled -&gt; set return-value to true (1)</span>
	<span class="nf">TSX</span>
	<span class="nf">INC</span> <span class="kc">$</span><span class="mi">0103</span><span class="p">,</span> <span class="nv">X</span>                       <span class="c1">; flips caller-visible return byte</span>

<span class="nl">is_full_end:</span>
	<span class="nf">SAXY_FROM_STACK</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
	<span class="nf">RTS</span>
<span class="c1">;--------------------------------------------------------------------</span>



<span class="c1">;====================================================================</span>
<span class="c1">; Data section</span>
<span class="c1">;====================================================================</span>
	<span class="nf">.ORG</span> <span class="kc">$</span><span class="mi">6000</span>

<span class="c1">; --------------------------------------------------------------------</span>
<span class="c1">; Working field (4x4 Sudoku = 16 cells)</span>
<span class="c1">; This is the board that gets modified by the solver</span>
<span class="c1">; --------------------------------------------------------------------</span>
<span class="nl">field:</span>
	<span class="nf">.RS</span> <span class="kc">$</span><span class="mi">10</span>                 <span class="c1">; reserve 16 bytes for the current board</span>


<span class="c1">; --------------------------------------------------------------------</span>
<span class="c1">; Sudoku test boards (4x4)</span>
<span class="c1">; Zeros denote empty cells</span>
<span class="c1">; Comments show one valid solution (if solvable)</span>
<span class="c1">; --------------------------------------------------------------------</span>

<span class="nl">sudoku17:</span>
<span class="nl">ll171:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 2,4,1,3</span>
<span class="nl">ll172:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>		<span class="c1">; 1,3,2,4</span>
<span class="nl">ll173:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,3,2</span>
<span class="nl">ll174:</span>	<span class="nf">.BYTE</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>		<span class="c1">; 3,2,4,1</span>

<span class="nl">sudoku16:</span>
<span class="nl">ll161:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 2,4,1,3</span>
<span class="nl">ll162:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,3,2,4</span>
<span class="nl">ll163:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,3,2</span>
<span class="nl">ll164:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span>		<span class="c1">; 3,2,4,1</span>

<span class="nl">sudoku15:</span>
<span class="nl">ll151:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>		<span class="c1">; 2,4,3,1</span>
<span class="nl">ll152:</span>	<span class="nf">.BYTE</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,1,2,4</span>
<span class="nl">ll153:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 4,2,1,3</span>
<span class="nl">ll154:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,3,4,2</span>

<span class="nl">sudoku14:</span>
<span class="nl">ll141:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>		<span class="c1">; 2,3,4,1</span>
<span class="nl">ll142:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,2,3</span>
<span class="nl">ll143:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,4,3,2</span>
<span class="nl">ll144:</span>	<span class="nf">.BYTE</span> <span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,2,1,4</span>

<span class="nl">sudoku13:</span>
<span class="nl">ll131:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,4,1,3</span>
<span class="nl">ll132:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,3,2,4</span>
<span class="nl">ll133:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>		<span class="c1">; 4,1,3,2</span>
<span class="nl">ll134:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,2,4,1</span>

<span class="nl">sudoku12:</span>
<span class="nl">ll121:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; not solvable</span>
<span class="nl">ll122:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>
<span class="nl">ll123:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
<span class="nl">ll124:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>

<span class="nl">sudoku11:</span>
<span class="nl">ll111:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,2,1,4</span>
<span class="nl">ll112:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>		<span class="c1">; 1,4,3,2</span>
<span class="nl">ll113:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>		<span class="c1">; 2,3,4,1</span>
<span class="nl">ll114:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,2,3</span>

<span class="nl">sudoku10:</span>
<span class="nl">ll101:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; not solvable</span>
<span class="nl">ll102:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>
<span class="nl">ll103:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
<span class="nl">ll104:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>

<span class="nl">sudoku9:</span>
<span class="nl">ll91:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,3,4,1</span>
<span class="nl">ll92:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 4,1,2,3</span>
<span class="nl">ll93:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,4,1,2</span>
<span class="nl">ll94:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>		<span class="c1">; 1,2,3,4</span>

<span class="nl">sudoku8:</span>
<span class="nl">ll81:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,3,2,1</span>
<span class="nl">ll82:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 2,1,4,3</span>
<span class="nl">ll83:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,4,1,2</span>
<span class="nl">ll84:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,2,3,4</span>

<span class="nl">sudoku7:</span>
<span class="nl">ll71:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,2,4,1</span>
<span class="nl">ll72:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,4,3,2</span>
<span class="nl">ll73:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,3,1,4</span>
<span class="nl">ll74:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,2,3</span>

<span class="nl">sudoku6:</span>
<span class="nl">ll61:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,1,2,3</span>
<span class="nl">ll62:</span>	<span class="nf">.BYTE</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span>		<span class="c1">; 3,2,1,4</span>
<span class="nl">ll63:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,4,3,1</span>
<span class="nl">ll64:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,3,4,2</span>

<span class="nl">sudoku5:</span>
<span class="nl">ll51:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,1,3,4</span>
<span class="nl">ll52:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,3,1,2</span>
<span class="nl">ll53:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,2,4,3</span>
<span class="nl">ll54:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,4,2,1</span>

<span class="nl">sudoku4:</span>
<span class="nl">ll41:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,3,2,1</span>
<span class="nl">ll42:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,2,3,4</span>
<span class="nl">ll43:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 3,1,4,2</span>
<span class="nl">ll44:</span>	<span class="nf">.BYTE</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,4,1,3</span>

<span class="nl">sudoku3:</span>
<span class="nl">ll31:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,4,1,3</span>
<span class="nl">ll32:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 1,3,4,2</span>
<span class="nl">ll33:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,2,3,1</span>
<span class="nl">ll34:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>		<span class="c1">; 3,1,2,4</span>

<span class="nl">sudoku2:</span>
<span class="nl">ll21:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="nl">ll22:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="nl">ll23:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="nl">ll24:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>

<span class="nl">sudoku1:</span>
<span class="nl">ll11:</span>	<span class="nf">.BYTE</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 4,3,2,1</span>
<span class="nl">ll12:</span>	<span class="nf">.BYTE</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span>		<span class="c1">; 1,2,4,3</span>
<span class="nl">ll13:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>		<span class="c1">; 2,1,3,4</span>
<span class="nl">ll14:</span>	<span class="nf">.BYTE</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>		<span class="c1">; 3,4,1,2</span>


<span class="c1">; --------------------------------------------------------------------</span>
<span class="c1">; Temporary variables</span>
<span class="c1">; NOTE:</span>
<span class="c1">; - Only valid within ONE subroutine</span>
<span class="c1">; - Must not be relied upon across subroutine calls</span>
<span class="c1">; - Contents are generally non-zero / undefined on entry</span>
<span class="c1">; --------------------------------------------------------------------</span>
<span class="nl">index:</span>	<span class="nf">.RS</span> <span class="kc">$</span><span class="mi">10</span>              <span class="c1">; general-purpose index storage</span>
<span class="nl">counter:</span> <span class="nf">.RS</span> <span class="kc">$</span><span class="mi">10</span>             <span class="c1">; loop counters / offsets</span>
<span class="nl">return:</span>	<span class="nf">.RS</span> <span class="kc">$</span><span class="mi">10</span>              <span class="c1">; boolean return values</span>
</pre></td> </tr></tbody></table></code></pre></figure> <h2 id="appendix">Appendix</h2> <p>I also wrote a bunch of tests for the code which are listed <a href="https://github.com/MarkusThill/65-C-02-Assembly/blob/master/mini-sudokus/miniSudoku.asm" rel="external nofollow noopener" target="_blank">here</a>.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/" target="_blank" rel="external nofollow noopener">Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2" target="_blank" rel="external nofollow noopener">Displaying External Posts on Your al-folio Blog</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2026/pe-785p100-hexadecimal-digit-canon/">The Hexadecimal Digit Canon Challenge</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2026/pe-83p100-quanity-equal-parts/">Short Notes: Equal Partitions, Products, and Decimal Structure</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2026/pe-818p100-generalized-parity-recurrence/">Short Notes: On a Curious Prefix-Sum Problem</a> </li> <div id="giscus_thread" style="max-width: 1000px; margin: 0 auto;"> <br> <script defer src="/assets/js/giscus-setup.js"></script> <noscript> Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Markus Thill. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a> and from <a href="https://www.freepik.com/" rel="external nofollow noopener" target="_blank">Freepik</a>. Last updated: January 25, 2026. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?v=a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?v=85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?v=2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?v=b608866baffe761c7f8f7670a3310d0f"></script> <script defer src="/assets/js/copy_code.js?v=c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?v=d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?v=a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?v=2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/tabs.min.js?v=b8748955e1076bbe0dabcf28f2549fdc"></script> <script type="module" src="/assets/js/search/ninja-keys.min.js?v=a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?v=6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?v=6f508d74becd347268a7f822bca7309d"></script> </body> </html>